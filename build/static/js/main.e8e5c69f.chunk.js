(this["webpackJsonppathfinding-visualisation"]=this["webpackJsonppathfinding-visualisation"]||[]).push([[0],{54:function(e,t,n){e.exports=n.p+"static/media/chevron_right-24px.9212f476.svg"},55:function(e,t,n){e.exports=n.p+"static/media/highlight_off-24px.81471c4b.svg"},62:function(e,t,n){e.exports=n(77)},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),s=n(11),o=n.n(s),c=n(6),u=n(10),l=n(13),h=n(9),d=n(14),p=n(16),f=n(54),v=n.n(f),g=n(55),m=n.n(g),b=700,x=50,y=50,O={WALKABLE:0,BLOCKED:1,START:2,END:3,PATH:4,CURRENT:5,OPEN:6,CLOSED:7},E=function(e){return["Color",e]},L=function(e){return["Image",e]},S=(r={},Object(p.a)(r,O.WALKABLE,E("white")),Object(p.a)(r,O.BLOCKED,E("#2c3e50")),Object(p.a)(r,O.START,L("url(".concat(v.a,")"))),Object(p.a)(r,O.END,L("url(".concat(m.a,")"))),Object(p.a)(r,O.PATH,E("#2ecc71")),Object(p.a)(r,O.CURRENT,E("#f1c40f")),Object(p.a)(r,O.OPEN,E("#1abc9c")),Object(p.a)(r,O.CLOSED,E("#16a085")),r),w=[[[0,-1],[-1,0],[1,0],[0,1]],[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]]],k=n(115),j=n(118),N=n(108),P=n(109),C=function e(){var t=this;Object(c.a)(this,e);var n=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){return t[e]=function(){return n[e].apply(n,arguments)}}))},A=new(function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this))).handleResize=function(){window.innerWidth<b&&!n.isSmall?(n.isSmall=!0,n.dispatchEvent(new CustomEvent("onBoundaryPass",{detail:{isSmall:n.isSmall}}))):window.innerWidth>b&&n.isSmall&&(n.isSmall=!1,n.dispatchEvent(new CustomEvent("onBoundaryPass",{detail:{isSmall:n.isSmall}})))},n.maxWidth=e,n.isSmall=window.innerWidth<n.maxWidth,window.addEventListener("resize",n.handleResize),n}return Object(d.a)(t,e),t}(C))(b),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={isSmall:A.isSmall},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.addEventListener("onBoundaryPass",(function(t){var n=t.detail;return e.setState({isSmall:n.isSmall})}))}},{key:"render",value:function(){return this.state.isSmall?i.a.createElement(k.a,{className:"expansion-panel"},i.a.createElement(j.a,null,i.a.createElement(N.a,null,"Settings")),i.a.createElement(P.a,null,this.props.children)):i.a.createElement("aside",{className:"sidebar"},this.props.children)}}]),t}(i.a.Component),T=n(19),I=n.n(T),M=n(21),W=n(57),B=new(function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).settings={algorithm:{type:"select",label:"Algorithm",value:0,options:[{label:"A*",value:0},{label:"Dijkstra",value:1},{label:"Breadth First",value:2},{label:"Depth First",value:3}]},gridSetterState:{type:"select",label:"Element to deploy",value:O.BLOCKED,options:[{label:"Wall",value:O.BLOCKED},{label:"Start",value:O.START},{label:"End",value:O.END}]},heuristic:{type:"select",label:"Heuristic",value:0,options:[{label:"Manhattan",value:0},{label:"Diagonal",value:1},{label:"Euclidean",value:2}]},directions:{type:"select",label:"Allowed directions",value:0,options:[{label:"Up | Down | Left | Right",value:0},{label:"Allow Diagonal",value:1}]},framerate:{type:"number",value:50,step:10,label:"Framerate"},nodeSize:{type:"number",value:50,min:10,max:150,step:10,label:"Node Size"},clearGrid:{type:"action",color:"secondary",variant:"outlined",label:"Clear Grid"},searchPath:{type:"action",color:"primary",variant:"contained",label:"Search Path"}},n.set=function(e,t){n.settings[e].value=t,n.dispatchEvent(new CustomEvent(e+"Change",{detail:n.settings[e].value}))},n.invoke=function(e){return n.dispatchEvent(new CustomEvent(e))},n}return Object(d.a)(t,e),t}(C)),R=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={state:n.props.state},n.toggle=function(e){n.throttle||(n.state.state===e?n.setState({state:O.WALKABLE}):n.setState({state:e}))},n.set=function(e){n.state.state!==O.START&&n.state.state!==O.END&&n.setState({state:e})},n.reset=function(){return n.setState({state:O.WALKABLE})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setState",value:function(e){var n=this;Object(W.a)(Object(h.a)(t.prototype),"setState",this).call(this,e),e.state!==O.WALKABLE&&(this.node.classList.add("animate"),this.timeout=setTimeout((function(){return n.node.classList.remove("animate")}),200))}},{key:"componentDidMount",value:function(){var e=this;B.addEventListener("nodeSizeChange",(function(){return e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e,t,n=this,r=S[this.state.state];return"Image"===r[0]?(e=r[1],t=S[O.PATH][1]):"Color"===r[0]&&(t=r[1]),i.a.createElement("div",{className:"node-border",onMouseEnter:this.props.onMouseEnter,onMouseDown:this.props.onClick},i.a.createElement("div",{className:"node",style:{width:B.settings.nodeSize.value-2+"px",height:B.settings.nodeSize.value-2+"px",backgroundImage:e,backgroundColor:t},ref:function(e){return n.node=e}},this.props.children))}}]),t}(i.a.Component),G=function(e){return new Promise((function(t){return setTimeout(t,e)}))},K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).indexToCoords=function(e){return[e%n.props.columns,Math.floor(e/n.props.columns)]},n.coordsToIndex=function(e){var t=e.x;return e.y*n.props.columns+t},n.createNewGrid=function(){n.clearGrid();var e=Math.min(n.props.rows,x),t=Math.min(n.props.columns,y);n.grid=Array(e).fill(0).map((function(){return Array(t).fill(O.WALKABLE)}))},n.clearGrid=function(){n.nodes&&(n.nodes.forEach((function(e){return e&&e.reset()})),n.grid=n.grid.map((function(e){return e.map((function(e){return O.WALKABLE}))})),n.startingPoint=null,n.endingPoint=null)},n.initNewPath=function(){var e=[O.PATH,O.CURRENT,O.OPEN,O.CLOSED];n.grid=n.grid.map((function(t,r){return t.map((function(t,a){var i=n.coordsToIndex({x:a,y:r});return i===n.startingPoint?O.START:i===n.endingPoint?O.END:e.includes(t)?(n.nodes[i].reset(),O.WALKABLE):t}))}))},n.generateStartingPoint=function(){if(!(n.props.columns>y||n.props.rows>x)){var e=Math.floor(.2*n.props.columns),t=Math.floor(n.props.rows/2);n.startingPoint=n.coordsToIndex({x:e,y:t}),n.toggleGridAtIndex(n.startingPoint,O.START)}},n.generateEndingPoint=function(){if(!(n.props.columns>y||n.props.rows>x)){var e=Math.floor(.8*n.props.columns),t=Math.floor(n.props.rows/2);n.endingPoint=n.coordsToIndex({x:e,y:t}),n.toggleGridAtIndex(n.endingPoint,O.END)}},n.showPath=function(){var e=Object(M.a)(I.a.mark((function e(t){var r,a,i,s,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,a=!1,i=void 0,e.prev=3,s=t[Symbol.iterator]();case 5:if(r=(o=s.next()).done){e.next=14;break}return c=o.value,n.grid[c[1]][c[0]]=4,n.nodes[n.coordsToIndex({x:c[0],y:c[1]})].set(O.PATH),e.next=11,G(1/B.settings.framerate.value*1e3);case 11:r=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),a=!0,i=e.t0;case 20:e.prev=20,e.prev=21,r||null==s.return||s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,null,[[3,16,20,28],[21,,23,27]])})));return function(t){return e.apply(this,arguments)}}(),n.handleClick=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=function(e,a){r?t.draggableStates.includes(a)&&(null===n.firstSetterState&&(n.firstSetterState=n.nodes[e].state.state!==O.BLOCKED),n.firstSetterState?n.setGridAtIndex(e,a):n.setGridAtIndex(e,O.WALKABLE)):n.toggleGridAtIndex(e,a)};n.setterState===O.START?(n.startingPoint&&a(n.startingPoint,O.START),n.startingPoint=e):n.setterState===O.END&&(n.endingPoint&&a(n.endingPoint,O.END),n.endingPoint=e),a(e,n.setterState)},n.handleMouseEnter=function(e){n.isMouseDown&&n.handleClick(e,!0)},n.createNewGrid(),n.setterState=O.BLOCKED,n.nodes=[],n.isMouseDown=!1,n.firstSetterState=null,n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"toggleGridAtIndex",value:function(e,t){var n=this.indexToCoords(e);this.nodes[e].toggle(t),this.grid[n[1]][n[0]]===parseInt(t)?this.grid[n[1]][n[0]]=O.WALKABLE:this.grid[n[1]][n[0]]=parseInt(t)}},{key:"setGridAtIndex",value:function(e,t){var n=this.indexToCoords(e);this.grid[n[1]][n[0]]=t,this.nodes[e].set(t)}},{key:"componentDidUpdate",value:function(){this.generateStartingPoint(),this.generateEndingPoint()}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("mousedown",(function(){return e.isMouseDown=!0}),!0),document.addEventListener("mouseup",(function(){e.firstSetterState=null,e.isMouseDown=!1})),B.addEventListener("gridSetterStateChange",(function(t){var n=t.detail;return e.setterState=parseInt(n)})),B.addEventListener("nodeSizeChange",(function(){return e.forceUpdate()})),B.addEventListener("clearGrid",this.clearGrid),this.generateStartingPoint(),this.generateEndingPoint()}},{key:"render",value:function(){var e=this;return this.createNewGrid(),i.a.createElement("div",{className:"grid",ref:function(t){return e.gridRef=t},style:{width:this.props.columns*B.settings.nodeSize.value}},this.grid.flat().map((function(t,n){return i.a.createElement(R,{state:t,key:n,onClick:function(){return e.handleClick(n)},ref:function(t){return e.nodes[n]=t},onMouseEnter:function(){return e.handleMouseEnter(n)}},!1)})))}}]),t}(i.a.Component);K.draggableStates=[O.WALKABLE,O.BLOCKED];var z=n(46),q=n(117),H=n(114),F=n(116),J=n(111),U=n(112),_=n(119),Q=n(110),V=n(113),X=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={},n.getDOMElement=function(e){var t=B.settings[e];switch(t.type){case"select":return i.a.createElement(i.a.Fragment,null,i.a.createElement(q.a,null,t.label),i.a.createElement(H.a,{value:n.state[e],onChange:function(t){return n.handleChange(t,e)},className:"input"},t.options.map((function(e){return i.a.createElement(F.a,{value:e.value,key:e.label},e.label)}))));case"action":return i.a.createElement(J.a,{className:"input",variant:t.variant,color:t.color,onClick:function(){return B.invoke(e)}},t.label);case"number":return i.a.createElement(i.a.Fragment,null,i.a.createElement(q.a,null,t.label),i.a.createElement(U.a,{container:!0,spacing:2,className:"slider-wrapper"},i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(_.a,{value:n.state[e],onChange:function(t,r){return n.handleChange({target:{value:r}},e)},step:1,min:t.min,max:t.max})),i.a.createElement(U.a,{item:!0},i.a.createElement(Q.a,{label:t.label,value:n.state[e],onChange:function(t){return n.handleChange(t,e)},margin:"dense",style:{width:42},inputProps:{step:t.step,type:"number"}}))));default:throw new Error("Unsupported setting type: "+t.type)}},n.handleChange=function(e,t){B.set(t,e.target.value),n.setState(Object(p.a)({},t,e.target.value))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e={};Object.entries(B.settings).forEach((function(t){var n=Object(z.a)(t,2),r=n[0],a=n[1];"select"!==a.type&&"number"!==a.type||(e[r]=a.value)})),this.setState(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"settings"},Object.keys(this.state).length&&Object.keys(B.settings).map((function(t){return i.a.createElement("div",{className:"input-wrapper",key:t},i.a.createElement(V.a,{className:"input"},e.getDOMElement(t)))})))}}]),t}(i.a.Component),Y=n(23),Z=n(17),$=function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(c.a)(this,e),this.equal=function(e){return r.x===e.x&&r.y===e.y},this.x=t,this.y=n,this.g=0,this.h=0,this.f=0,this.parentNode=a},ee=function(e){function t(e,n,r){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this))).setFramerate=function(e){return a.framerate=e},a.setHeuristic=function(e){return a.heuristic=t.heuristics[e]},a.setDirections=function(e){return a.directions=w[e]},a.startNode=Object(Y.a)($,Object(Z.a)(e)),a.endNode=Object(Y.a)($,Object(Z.a)(n)),a.grid=JSON.parse(JSON.stringify(r)),a.openList=[a.startNode],a.closedList=[],a.setHeuristic(0),a.setDirections(0),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getNodeInList",value:function(e,t){return e.find((function(e){return e.equal(t)}))}},{key:"findPath",value:function(){var e=Object(M.a)(I.a.mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,d,p,f,v,g,m,b,x;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.openList.length){e.next=66;break}for(t=this.openList[0],n=0,r=0;r<this.openList.length;r++)this.openList[r].f<t.f&&(t=this.openList[r],n=r);if(this.openList.splice(n,1),this.closedList.push(t),!t.equal(this.endNode)){e.next=11;break}for(a=[],i=t;i;)a.push([i.x,i.y]),i=i.parentNode;return e.abrupt("return",Promise.resolve(a));case 11:s=[],o=!0,c=!1,u=void 0,e.prev=15,l=this.directions[Symbol.iterator]();case 17:if(o=(h=l.next()).done){e.next=29;break}if(d=h.value,p=t.x+d[0],f=t.y+d[1],!(p<0||f<0||p>=this.grid[0].length||f>=this.grid.length)){e.next=23;break}return e.abrupt("continue",26);case 23:if(1!==this.grid[f][p]){e.next=25;break}return e.abrupt("continue",26);case 25:s.push(new $(p,f,t));case 26:o=!0,e.next=17;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(15),c=!0,u=e.t0;case 35:e.prev=35,e.prev=36,o||null==l.return||l.return();case 38:if(e.prev=38,!c){e.next=41;break}throw u;case 41:return e.finish(38);case 42:return e.finish(35);case 43:v=[],g=0,m=s;case 45:if(!(g<m.length)){e.next=60;break}if(b=m[g],!this.getNodeInList(this.closedList,b)){e.next=49;break}return e.abrupt("continue",57);case 49:if(b.g=t.g+1,b.h=this.heuristic(b,this.endNode),b.f=b.g+b.h,!((x=this.getNodeInList(this.openList,b))&&b.g>=x.g)){e.next=55;break}return e.abrupt("continue",57);case 55:this.openList.push(b),v.push(b);case 57:g++,e.next=45;break;case 60:if(this.dispatchEvent(new CustomEvent("nextIteration",{detail:{currentNode:t,newOpenListNodes:v,newClosedListNode:this.closedList.length>1&&this.closedList[this.closedList.length-2]}})),!this.framerate){e.next=64;break}return e.next=64,G(1/this.framerate*1e3);case 64:e.next=0;break;case 66:case"end":return e.stop()}}),e,this,[[15,31,35,43],[36,,38,42]])})));return function(){return e.apply(this,arguments)}}()}]),t}(C);ee.heuristics=[function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},function(e,t){return Math.max(Math.abs(e.x-t.x),Math.abs(e.y-t.y))},function(e,t){return Math.pow(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2),.5)}];var te=function e(t,n,r){var a=this;Object(c.a)(this,e),this.setDistance=function(e){return a.distance=e},this.equal=function(e){return a.x===e.x&&a.y===e.y},this.x=t,this.y=n,this.parentNode=r,this.distance=1/0},ne=function e(t,n){var r=this;Object(c.a)(this,e),this.equal=function(e){return e.x===r.x&&e.y===r.y},this.x=t,this.y=n,this.parent=null},re=function e(t,n){var r=this;Object(c.a)(this,e),this.equal=function(e){return e.x===r.x&&e.y===r.y},this.x=t,this.y=n,this.parent=null},ae=[ee,function(e){function t(e,n,r){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this))).setFramerate=function(e){return a.framerate=e},a.setDirections=function(e){return a.directions=w[e]},a.isInList=function(e,t){for(var n in e){var r=e[n];if(r.equal(t))return[r,n]}return!1},a.startNode=Object(Y.a)(te,Object(Z.a)(e)),a.startNode.setDistance(0),a.priorityQueue=[],a.openList=[a.startNode],a.closedList=[],a.grid=JSON.parse(JSON.stringify(r)),console.log(a.grid),a.setDirections(1),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"findPath",value:function(){var e=Object(M.a)(I.a.mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,d,p,f,v,g,m;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.openList.length){e.next=55;break}if(t=this.openList[0],this.openList.shift(),this.closedList.push(t),console.log(t,this.grid[t.y][t.x]),3!==this.grid[t.y][t.x]){e.next=9;break}for(n=[];t;)n.push([t.x,t.y]),t=t.parentNode;return e.abrupt("return",Promise.resolve(n));case 9:r=[],a=!0,i=!1,s=void 0,e.prev=13,o=this.directions[Symbol.iterator]();case 15:if(a=(c=o.next()).done){e.next=34;break}if(u=c.value,l=t.x+u[0],h=t.y+u[1],!(l<0||h<0||l>=this.grid[0].length||h>=this.grid.length)){e.next=21;break}return e.abrupt("continue",31);case 21:if(1!==this.grid[h][l]){e.next=23;break}return e.abrupt("continue",31);case 23:if(d=new te(l,h,t),p=u[0]&&u[1]?Math.sqrt(2):1,d.setDistance(p+t.distance),!this.isInList(this.closedList,d)){e.next=29;break}return e.abrupt("continue",31);case 29:(f=this.isInList(this.openList,d))?(v=Object(z.a)(f,2),g=v[0],m=v[1],d.distance<g.distance&&(this.openList.splice(m,1),this.openList.push(d))):(r.push(d),this.openList.push(d));case 31:a=!0,e.next=15;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(13),i=!0,s=e.t0;case 40:e.prev=40,e.prev=41,a||null==o.return||o.return();case 43:if(e.prev=43,!i){e.next=46;break}throw s;case 46:return e.finish(43);case 47:return e.finish(40);case 48:if(this.openList.sort((function(e,t){return e.distance-t.distance})),this.dispatchEvent(new CustomEvent("nextIteration",{detail:{currentNode:t,newOpenListNodes:r,newClosedListNode:this.closedList.length>1&&this.closedList[this.closedList.length-2]}})),!this.framerate){e.next=53;break}return e.next=53,G(1/this.framerate*1e3);case 53:e.next=0;break;case 55:case"end":return e.stop()}}),e,this,[[13,36,40,48],[41,,43,47]])})));return function(){return e.apply(this,arguments)}}()}]),t}(C),function(e){function t(e,n,r){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this))).setFramerate=function(e){return a.framerate=e},a.setDirections=function(e){return a.directions=w[e]},a.isDiscovered=function(e){return a.discoveredList.some((function(t){return t.equal(e)}))},a.startingPoint=Object(Y.a)(ne,Object(Z.a)(e)),a.grid=JSON.parse(JSON.stringify(r)),a.queue=[a.startingPoint],a.discoveredList=[a.startingPoint],a.closedList=[],a.setDirections(0),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"findPath",value:function(){var e=Object(M.a)(I.a.mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.queue.length){e.next=44;break}if(t=this.queue.shift(),this.closedList.push(t),3!==this.grid[t.y][t.x]){e.next=7;break}for(n=[];t;)n.push([t.x,t.y]),t=t.parent;return e.abrupt("return",Promise.resolve(n));case 7:r=[],a=!0,i=!1,s=void 0,e.prev=11,o=this.directions[Symbol.iterator]();case 13:if(a=(c=o.next()).done){e.next=24;break}if(u=c.value,l=t.x+u[0],h=t.y+u[1],!(l<0||h<0||l>=this.grid[0].length||h>=this.grid.length||1===this.grid[h][l])){e.next=19;break}return e.abrupt("continue",21);case 19:d=new ne(l,h),this.isDiscovered(d)||(d.parent=t,r.push(d),this.discoveredList.push(d),this.queue.push(d));case 21:a=!0,e.next=13;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(11),i=!0,s=e.t0;case 30:e.prev=30,e.prev=31,a||null==o.return||o.return();case 33:if(e.prev=33,!i){e.next=36;break}throw s;case 36:return e.finish(33);case 37:return e.finish(30);case 38:if(this.dispatchEvent(new CustomEvent("nextIteration",{detail:{newClosedListNode:t,newOpenListNodes:r}})),!this.framerate){e.next=42;break}return e.next=42,G(1/this.framerate*1e3);case 42:e.next=0;break;case 44:case"end":return e.stop()}}),e,this,[[11,26,30,38],[31,,33,37]])})));return function(){return e.apply(this,arguments)}}()}]),t}(C),function(e){function t(e,n,r){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this))).setFramerate=function(e){return a.framerate=e},a.setDirections=function(e){return a.directions=w[e]},a.isDiscovered=function(e){return a.discoveredList.some((function(t){return t.equal(e)}))},a.startingPoint=Object(Y.a)(re,Object(Z.a)(e)),a.grid=JSON.parse(JSON.stringify(r)),a.stack=[a.startingPoint],a.discoveredList=[a.startingPoint],a.closedList=[],a.setDirections(0),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"findPath",value:function(){var e=Object(M.a)(I.a.mark((function e(){var t,n,r,a,i,s,o,c,u,l,h,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.stack.length){e.next=44;break}if(t=this.stack.pop(),this.closedList.push(t),3!==this.grid[t.y][t.x]){e.next=7;break}for(n=[];t;)n.push([t.x,t.y]),t=t.parent;return e.abrupt("return",Promise.resolve(n));case 7:r=[],a=!0,i=!1,s=void 0,e.prev=11,o=this.directions[Symbol.iterator]();case 13:if(a=(c=o.next()).done){e.next=24;break}if(u=c.value,l=t.x+u[0],h=t.y+u[1],!(l<0||h<0||l>=this.grid[0].length||h>=this.grid.length||1===this.grid[h][l])){e.next=19;break}return e.abrupt("continue",21);case 19:d=new re(l,h),this.isDiscovered(d)||(d.parent=t,r.push(d),this.discoveredList.push(d),this.stack.push(d));case 21:a=!0,e.next=13;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(11),i=!0,s=e.t0;case 30:e.prev=30,e.prev=31,a||null==o.return||o.return();case 33:if(e.prev=33,!i){e.next=36;break}throw s;case 36:return e.finish(33);case 37:return e.finish(30);case 38:if(this.dispatchEvent(new CustomEvent("nextIteration",{detail:{newClosedListNode:t,newOpenListNodes:r}})),!this.framerate){e.next=42;break}return e.next=42,G(1/this.framerate*1e3);case 42:e.next=0;break;case 44:case"end":return e.stop()}}),e,this,[[11,26,30,38],[31,,33,37]])})));return function(){return e.apply(this,arguments)}}()}]),t}(C)],ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={isSmall:A.isSmall},n.grid=i.a.createRef(),n.indexToCoords=function(e){return[e%n.state.columns,Math.floor(e/n.state.columns)]},n.coordsToIndex=function(e){var t=e.x;return e.y*n.state.columns+t},n.handleNextIteration=function(e){var t=e.detail,r=t.newOpenListNodes,a=t.newClosedListNode;if(r){var i=!0,s=!1,o=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value,h=n.coordsToIndex(l);n.grid.current.nodes[h].set(O.OPEN),n.grid.current.setGridAtIndex(h,O.OPEN)}}catch(p){s=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(s)throw o}}}if(a){var d=n.coordsToIndex(a);n.grid.current.nodes[d].set(O.CLOSED),n.grid.current.setGridAtIndex(d,O.CLOSED)}},n.calculatePath=function(){n.grid.current.initNewPath();var e=n.grid.current.grid,t=n.indexToCoords(n.grid.current.startingPoint),r=n.indexToCoords(n.grid.current.endingPoint),a=new ae[B.settings.algorithm.value](t,r,e);a.setHeuristic&&a.setHeuristic(B.settings.heuristic.value),a.setDirections(B.settings.directions.value),a.setFramerate(B.settings.framerate.value),a.addEventListener("nextIteration",n.handleNextIteration),a.findPath().then((function(e){a.removeEventListener("nextIteration",n.handleNextIteration),e?n.grid.current.showPath(e):alert("There is no path")}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({columns:Math.floor(this.gridWrapper.clientWidth/B.settings.nodeSize.value),rows:Math.floor(this.gridWrapper.clientHeight/B.settings.nodeSize.value)}),B.addEventListener("nodeSizeChange",(function(){return e.setState({columns:Math.floor(e.gridWrapper.clientWidth/B.settings.nodeSize.value),rows:Math.floor(e.gridWrapper.clientHeight/B.settings.nodeSize.value)})})),B.addEventListener("searchPath",this.calculatePath),A.addEventListener("onBoundaryPass",(function(t){var n=t.detail;return e.setState({isSmall:n.isSmall})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"app",style:{display:this.state.isSmall?"block":""}},i.a.createElement(D,null,i.a.createElement(X,null)),i.a.createElement("main",{className:"stage"},i.a.createElement("div",{className:"grid-wrapper",ref:function(t){return e.gridWrapper=t}},this.state.columns&&this.state.rows?i.a.createElement(K,{columns:this.state.columns,rows:this.state.rows,ref:this.grid}):null)))}}]),t}(i.a.Component);n(76);o.a.render(i.a.createElement(ie,null),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.e8e5c69f.chunk.js.map